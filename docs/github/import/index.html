<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">Import Issues | ZenCrepes</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Import Issues | ZenCrepes"><meta data-react-helmet="true" name="description" content="d be redirected to that gist."><meta data-react-helmet="true" property="og:description" content="d be redirected to that gist."><meta data-react-helmet="true" property="og:url" content="https://docs.zencrepes.io/docs/github/import"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.zencrepes.io/docs/github/import"><link rel="stylesheet" href="/styles.ac071a37.css">
<link rel="preload" href="/styles.3b67f8d9.js" as="script">
<link rel="preload" href="/runtime~main.4404a578.js" as="script">
<link rel="preload" href="/main.af612167.js" as="script">
<link rel="preload" href="/1.87f1d50b.js" as="script">
<link rel="preload" href="/2.a8336ccb.js" as="script">
<link rel="preload" href="/33.c1239ad2.js" as="script">
<link rel="preload" href="/34.abb44a02.js" as="script">
<link rel="preload" href="/20ac7829.47659858.js" as="script">
<link rel="preload" href="/09b98868.4c4bfe4a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/zencrepes.svg" alt="ZenCrepes Logo"><strong class="navbar__title">ZenCrepes</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/zencrepes.svg" alt="ZenCrepes Logo"><strong class="navbar__title">ZenCrepes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/try">Try It !</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/serverless">Discover</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Install</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/install/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/install/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/install/authentication">Authentication</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">GitHub</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/github/import">Import Issues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/issues">Issues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/labels">Labels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/milestones">Milestones</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/projects">Projects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/prs">Pull Requests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/releases">Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/vulnerabilities">Vulnerabilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/github/watchers">Watchers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CircleCI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/circleci/envvars">Env Vars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/circleci/pipelines">Pipelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/circleci/insights">Insights</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Jira</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/jira/issues">Issues</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/develop/getstarted">Get Started</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Import Issues</h1></header><div class="markdown"><p>Github offers an <a href="https://gist.github.com/jonmagic/5282384165e0f86ef105" target="_blank" rel="noopener noreferrer">&quot;slightly-unofficial&quot; API</a> to bulk import a large number of issues without triggering all sort of notifications you would get by using the regular issues management endpoints (or GraphQL mutations). I&#x27;m referring to it as &quot;slightly-unofficial&quot; since you can&#x27;t find any documentation other than a gist, but if contacting GitHub support, you&#x27;d be redirected to that gist.</p><p>In the context of ZenCrepes an API importer was implemented to support bulk importing of a fairly large number of issues (the dataset used for final testing had slightly over 40,000 issues). The primary use case here is exporting issues data from Jira and importing those into GitHub.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="before-starting"></a>Before starting<a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-starting" title="Direct link to heading">#</a></h2><p>There are a couple of things to consider before getting started:</p><ul><li><strong>Labels</strong> must be unique (case insensitive), for example, GitHub will reject an issue with a label &quot;Bug&quot; if the repository already contains a label called &quot;bug&quot;. Zindexer includes a feature to map labels on the fly just prior to submission (for example convert <code>Documentation</code> to <code>documentation</code>).</li><li><strong>Assignees</strong> must exist, you can&#x27;t assign an issue to someone not having access to the repository.</li><li><strong>Reporters</strong> can&#x27;t be set, the username used as a reporter is the one attach to the user. This is true for issue body but also issue comments (which can then be slightly annoying).</li><li><strong>Created, Updated, Closed dates</strong> can be set, so if your issue was closed in 2015, it will still show as closed in 2015 in GitHub.</li><li><strong>No duplicate Jira keys</strong>, zindexer assumes that issue keys are unique (DOC-1234), you will not be able to import data from different remove Jira server into the same repository if they share the same keys.</li><li><strong>Checking import status</strong> when dealing with a very large number of issues is going to be problematic</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recommended-setup"></a>Recommended setup<a aria-hidden="true" tabindex="-1" class="hash-link" href="#recommended-setup" title="Direct link to heading">#</a></h3><p>For this import you will need zindexer and a running Elasticsearch instance (+ Kibana to look at the data), it would be recommended to use a dedicated instance (and separate GitHub token) for those and not try to use any already running version of ZenCrepes you might have. The import remains a manual operation, you&#x27;re probably best running this from your workstation (or dedicated cloud instance).</p><p>You should also do a dry run first, by creating a test repository and importing your issues there.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The whole export &amp; import process is divided in five sequential phases:</p><ul><li>Configure your Jira connection and ZenCrepes sources</li><li>Import data from Jira</li><li>Prepare data for GitHub import</li><li>Import data in GitHub</li><li>Update issue links</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configure-zencrepes"></a>Configure ZenCrepes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-zencrepes" title="Direct link to heading">#</a></h2><p>Please refer to the section of the <a href="/docs/install/configuration">documentation refering to installation</a>, configuration is the exact same.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="import-data-from-jira"></a>Import Data from Jira<a aria-hidden="true" tabindex="-1" class="hash-link" href="#import-data-from-jira" title="Direct link to heading">#</a></h2><p>First start by importing all of the issues from Jira, this is the exact same action than when using <a href="/docs/jira/issues">Jira issues directly in ZenCrepes</a>.</p><p>You can do that by running:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zindexer jira:issues</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="prepare-data-for-github-import"></a>Prepare data for GitHub import<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prepare-data-for-github-import" title="Direct link to heading">#</a></h2><p>This next stage will go through all of the Jira issues and prepare their payload for GitHub import. During this stage, most Jira fields will be converted to GitHub labels, and headers will be added in the issue body and issue comments.</p><p>The header in the issue body looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Imported from Jira, on Sun Jun 21, 2020</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Issue: DOC-1234 in project: Documentation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Reporter: @jondoe (Jon Doe)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Assignee: None found in Jira, making reporter the assignee in GitHub</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Created: Thu Jun 18, 2020, last updated: Thu Jun 18, 2020</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Status: Open</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Issues in Epic:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - [ ] DOC-456 - A sample ticket (Bug, Open)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - [x] DOC-457 - Another sample ticket (Story, Closed)</span></div></div></div></div></div><p>It contains a link (DOC-1234) to the original Jira server, may you want to keep the server around in read-only for some time.</p><p>The header will also contain list of subtasks, children issues, links... with checkboxes corresponding to these issues states. Initially these will include links back to Jira, but those will be modified later on.</p><p>The header in the issue comments looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Imported from Jira, on Sun Jun 21, 2020</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Comment by: @jondoe (Jon Doe) on Fri Jan 31, 2020 edited</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>The importer is using a dedicated configuration file, the first time you&#x27;ll run it, it will generate a default configuration for you to modify. There are a couple of things you&#x27;ll need to do in this file:</p><ul><li>Match your Jira users to GitHub nickhandles. This is done through Jira&#x27;s <code>emailAddress</code> field for reporters, authors, assignees. Zindexer will generate a list of all the users it finds, you will simply have to copy this list into your configuration file and update GitHub usernames</li><li>Configure the repositories. You will need to tell Zindexer into which GitHub repositories the various Jira projects have to be imported. You could use the configuration file to push some of the &quot;older&quot; issues to an archive repository based on either <code>createdAt</code>, <code>updatedAt</code> or <code>closedAt</code>.</li></ul><p>The file also contains parameters that will be needed later in the process:</p><ul><li>You can configure an on-the-fly label rename</li><li>You need to specify the link to individual Jira tickets (without the issue key), it would usually looks like this: <code>https://jira.mydomain.com/browse/</code>. This will be needed for the last part of the import when replacing Jira links to GitHub links</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="run"></a>Run<a aria-hidden="true" tabindex="-1" class="hash-link" href="#run" title="Direct link to heading">#</a></h2><p>Once your configuration is setup, you can simply run:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zindexer jira:ghexport</span></div></div></div></div></div><p>Note that if at any point in time you would like to start again with the import, you can do this easily by deleting the Elasticsearch index (by default <code>gh_import</code>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="health-check"></a>Health-check<a aria-hidden="true" tabindex="-1" class="hash-link" href="#health-check" title="Direct link to heading">#</a></h2><p>At that stage, it&#x27;s a good idea to take a look at the data in the import index, just to ensure it all looks good.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="import-data-in-github"></a>Import Data in GitHub<a aria-hidden="true" tabindex="-1" class="hash-link" href="#import-data-in-github" title="Direct link to heading">#</a></h2><p>The previous step staged data for import in GitHub, it could actually be used to import data from other sources than Jira. Usage it&#x27;s pretty straight-forward:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zindexer github:import</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/zencrepes/docs/tree/master/docs/docs/github/import.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/github/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/github/issues"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GitHub Issues »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-starting" class="table-of-contents__link">Before starting</a><ul><li><a href="#recommended-setup" class="table-of-contents__link">Recommended setup</a></li></ul></li><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#configure-zencrepes" class="table-of-contents__link">Configure ZenCrepes</a></li><li><a href="#import-data-from-jira" class="table-of-contents__link">Import Data from Jira</a></li><li><a href="#prepare-data-for-github-import" class="table-of-contents__link">Prepare data for GitHub import</a><ul><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li></ul></li><li><a href="#run" class="table-of-contents__link">Run</a></li><li><a href="#health-check" class="table-of-contents__link">Health-check</a></li><li><a href="#import-data-in-github" class="table-of-contents__link">Import Data in GitHub</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://slack.overture.bio/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack @overture.bio #app_zencrepes</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 ZenCrepes. Site built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.3b67f8d9.js"></script>
<script src="/runtime~main.4404a578.js"></script>
<script src="/main.af612167.js"></script>
<script src="/1.87f1d50b.js"></script>
<script src="/2.a8336ccb.js"></script>
<script src="/33.c1239ad2.js"></script>
<script src="/34.abb44a02.js"></script>
<script src="/20ac7829.47659858.js"></script>
<script src="/09b98868.4c4bfe4a.js"></script>
</body>
</html>